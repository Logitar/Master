using Logitar.Data;
using Microsoft.EntityFrameworkCore;

namespace Logitar.Master.EntityFrameworkCore;

internal static class QueryingExtensions
{
  public static IQueryable<T> FromQuery<T>(this DbSet<T> entities, IQueryBuilder query) where T : class
  {
    return entities.FromQuery(query.Build());
  }
  public static IQueryable<T> FromQuery<T>(this DbSet<T> entities, IQuery query) where T : class
  {
    return entities.FromSqlRaw(query.Text, query.Parameters.ToArray());
  }
}
